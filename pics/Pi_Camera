# Started Feb 15
# Finished by Feb 17
# The camera will take pictures every half second for the entirety
# of the flight from the bottom of the plane.


import time
import picamera
from gpiozero import Button

button = Button(17)

# program start with a button press
button.wait_for_press()


while True:
    try:
        with picamera.PiCamera() as camera:
            camera.start_preview()
            time.sleep(2)
            for filename in camera.capture_continuous('img{counter:03d}.jpg'):
                print('Captured %s' % filename)
                time.sleep(2) # wait 2 seconds so 30 images a minute
    # stopping the program with a button hopefully
    except button.when_pressed:
        camera.stop_preview()
        break
